<html>
  <head>
    <title>My first Three.js app</title>
    <style>
      body { margin: 0; }
      canvas { width: 100%; height: 100% }
    </style>
  </head>
  <body>
    <script src="/three.min.js"></script>
    <script>
      var scene = new THREE.Scene();
      var pieces = 5;
      var aspect = window.innerWidth / window.innerHeight;
      var camera = new THREE.OrthographicCamera( -1, (2 * pieces - 1) * aspect, 2 * pieces - 1, -1, 1, 1000);
      camera.position.x = 2 - pieces;
      camera.position.y = -2 * (pieces + 1);
      camera.position.z = pieces * 2;
      camera.rotation.x = Math.PI / 4;

      var renderer = new THREE.WebGLRenderer();
      renderer.setSize( window.innerWidth, window.innerHeight );
      document.body.appendChild( renderer.domElement );

      for (var i = 0; i < pieces; i++) {
        for (var j = 0; j < pieces; j++) {
          var box = new THREE.BoxGeometry(2, 2, 0.01, 32);
          if ((i + j) % 2 == 0) {
            var material = new THREE.MeshBasicMaterial({ color: 0xbdbdbd });
          } else {
            var material = new THREE.MeshBasicMaterial({ color: 0x2a2a2a });
          }

          var block = new THREE.Mesh(box, material);
          block.position.x = i * 2;
          block.position.y = j * 2;
          scene.add(block);
        }
      }
      var p1_material = new THREE.MeshBasicMaterial( { color: 0xff0000 } );
      var p2_material = new THREE.MeshBasicMaterial( { color: 0xffffff } );
      var cap = new THREE.SphereGeometry(0.5, 32, 32, 0, Math.PI, 0, Math.PI );
      var capstone = new THREE.Mesh( cap, p1_material );
      var flat = new THREE.BoxGeometry(1, 1, 0.25);
      var flatstone = new THREE.Mesh( flat, p2_material );
      var flatstone2 = new THREE.Mesh( flat, p2_material );
      scene.add( capstone );
      scene.add( flatstone );
      scene.add( flatstone2 );
      flatstone.position.y = 4;
      flatstone.position.x = 4;
      flatstone.rotation.x = Math.PI/2;
      flatstone.rotation.y = -Math.PI/4;
      flatstone.position.z = 0.5;
      flatstone2.position.x = 8;
      flatstone2.position.y = 8;

      var render = function () {
        requestAnimationFrame( render );
        renderer.render(scene, camera);
      };
      render();
    </script>
  </body>
</html>
